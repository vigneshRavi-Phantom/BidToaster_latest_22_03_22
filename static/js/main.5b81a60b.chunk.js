(this.webpackJsonpbidtoaster=this.webpackJsonpbidtoaster||[]).push([[8],{112:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return a})),t(403).config();var r="http://23.101.24.189/graphql",a="_bidtoaster_"},154:function(e,n,t){"use strict";t.d(n,"a",(function(){return h})),t.d(n,"b",(function(){return m}));var r=t(14),a=t(13),c=t(6),o=t.n(c),u=t(1),s=t(244),i=t.n(s),l=t(245),d=t(28),b=t(4),p="en",f="appLanguage",j=new i.a({en:l}),O=Object(u.createContext)({strings:j,setAppLanguage:function(e){},appLanguage:p}),h=function(e){var n=e.children,t=Object(u.useState)(p),c=Object(a.a)(t,2),s=c[0],i=c[1],l=function(e){j.setLanguage(e),i(e),Object(d.d)(f,e)};return Object(u.useEffect)((function(){console.debug("[LocalizationContext] Setup app lang");var e=function(){var e=Object(r.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(f);case 2:n=e.sent,l(n||p);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsx)(O.Provider,{value:{strings:j,setAppLanguage:l,appLanguage:s},children:n})},m=function(){var e=Object(u.useContext)(O);if(void 0===e)throw new Error("useLocalization must be used within a LocalizationContext");return e}},155:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return d}));var r=t(13),a=t(19),c=t(1),o=t.n(c),u=t(4),s={isModal:!1,modalData:null,isDeleteModal:!1,openModal:function(){},closeModal:function(){},openDeleteModal:function(){},deleteModalData:null,closeDeleteModal:function(){}},i=Object(c.createContext)(s),l=function(e){var n=e.children,t=Object(c.useReducer)((function(e,n){switch(n.name){case"MODAL":return Object(a.a)(Object(a.a)({},e),{},{isModal:!e.isModal,modalData:n.modalData});case"DELETE_MODAL":return Object(a.a)(Object(a.a)({},e),{},{isDeleteModal:!e.isDeleteModal,deleteModalData:n.deleteModalData});default:return Object(a.a)({},e)}}),s),l=Object(r.a)(t,2),d=l[0],b=l[1],p=o.a.useMemo((function(){return{openModal:function(e){b({name:"MODAL",modalData:e})},closeModal:function(){b({name:"MODAL",modalData:null})},openDeleteModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;b({name:"DELETE_MODAL",deleteModalData:e})},closeDeleteModal:function(){b({name:"DELETE_MODAL",deleteModalData:null})}}}),[]);return Object(u.jsx)(i.Provider,{value:Object(a.a)(Object(a.a)({},d),p),children:n})},d=function(){var e=Object(c.useContext)(i);if(void 0===e)throw new Error("useModal must be used within a ModalContext");return e}},156:function(e,n,t){"use strict";t(1);var r=t(428),a=t(429),c=t(4);n.a=function(){return Object(c.jsx)(r.a,{style:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(c.jsx)(a.a,{animation:"border",variant:"dark"})})}},245:function(e){e.exports=JSON.parse('{"no_data_found":"No result found :(","are_you_sure":"Are you sure you want to delete?","text.edit":"edit","text.delete":"delete","error.e10100":"Something went wrong.","error.e10101":"Invalid login creditials.","error.e10102":"Invalid token.","error.e10103":"Invalid OTP code.","error.e10104":"Email already exists.","error.e101043":"Vendor does not exists in our database.","error.e101044":"Vendor already added in your organization.","error.e10105":"Email not exists.","error.e10106":"Password invalid.","error.e10107":"File upload failed.","error.e10108":"Data cannot be deleted.","error.are_you_robot":"Are you a robot?","error.full_name_empty":"Full name cannot be empty.","error.email_empty":"Email cannot be empty.","error.email_invalid":"Email is invalid.","error.phone_number_empty":"Phone number cannot be empty.","error.phone_number_invalid":"Must be valid phone number.","error.password_empty":"Password cannot be empty.","error.password_format":"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character.","error.plan_name_empty":"Plan name cannot be empty.","title.login":"Login","title.signup":"Sign up","button.delete":"Delete","button.cancel":"Cancel","button.login":"Login","button.signup":"Sign up","button.save":"Save","button.verify":"Verify","button.subscribe_now":"Subscribe now","forgot_password":"Forgot Password?","profile.profile_update":"Profile updated.","subscription.order_summary":"Order Summary","plans.plans":"Plans","plans.add_plan":"Add Plan","plans.update_plan":"Update Plan","plans.delete_plan":"Delete Plan","plans.plan_name":"Plan name","plans.plan_add_success":"Plan added","plans.plan_update_success":"Plan updated"}')},28:function(e,n,t){"use strict";t.d(n,"d",(function(){return s})),t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return l})),t.d(n,"e",(function(){return d})),t.d(n,"a",(function(){return b}));var r=t(14),a=t(6),c=t.n(a),o=t(240),u=t.n(o),s=function(){var e=Object(r.a)(c.a.mark((function e(n,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null;case 3:return e.abrupt("return",localStorage.setItem(n,t));case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null;case 3:return e.abrupt("return",localStorage.getItem(n));case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=null,n=localStorage.getItem("bt.token");if(null!==n&&n){var t=JSON.parse(n);null!==t&&void 0!==t.accessToken&&(e=t.accessToken)}return e};function d(e,n){if(e.length>0){for(var t=!1,r=0;r<n.length;r++){var a=n[r];if(e.substr(e.length-a.length,a.length).toLowerCase()===a.toLowerCase()){t=!0;break}}if(!t)return!1}return!0}function b(e){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({method:"post",url:"http://52.187.104.169:5001/dashboard_comparison/",data:n});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},288:function(e,n){},290:function(e,n){},304:function(e,n){},306:function(e,n){},334:function(e,n){},336:function(e,n){},337:function(e,n){},342:function(e,n){},344:function(e,n){},350:function(e,n){},352:function(e,n){},371:function(e,n){},383:function(e,n){},386:function(e,n){},422:function(e,n,t){},424:function(e,n,t){},425:function(e,n,t){},426:function(e,n,t){},427:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(64),o=t.n(c),u=t(118),s=t(11),i=t(156),l=t(56),d=t(4),b=Object(r.lazy)((function(){return t.e(33).then(t.bind(null,732))})),p=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(19)]).then(t.bind(null,758))})),f=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(14),t.e(4),t.e(39)]).then(t.bind(null,734))})),j=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(21),t.e(4),t.e(40)]).then(t.bind(null,736))})),O=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(7),t.e(35),t.e(22)]).then(t.bind(null,737))})),h=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(2),t.e(16),t.e(4),t.e(37)]).then(t.bind(null,738))})),m=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(2),t.e(17),t.e(4),t.e(38)]).then(t.bind(null,739))})),x=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(3),t.e(36),t.e(34)]).then(t.bind(null,757))})),v=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(20)]).then(t.bind(null,744))})),w=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(2),t.e(3),t.e(5),t.e(27)]).then(t.bind(null,745))})),g=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(2),t.e(3),t.e(5),t.e(25)]).then(t.bind(null,746))})),y=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(2),t.e(3),t.e(5),t.e(24)]).then(t.bind(null,747))})),k=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(2),t.e(3),t.e(5),t.e(26)]).then(t.bind(null,748))})),P=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(18)]).then(t.bind(null,749))})),T=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(2),t.e(3),t.e(13)]).then(t.bind(null,750))})),C=Object(r.lazy)((function(){return Promise.all([t.e(1),t.e(2),t.e(3),t.e(23)]).then(t.bind(null,751))})),_=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(15)]).then(t.bind(null,752))})),q=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(12)]).then(t.bind(null,753))}));function D(e){var n=e.children,t=Object(l.b)(),r=t.accessToken,a=(t.accountProfile,Object(s.f)());return void 0===r?null:r?Object(d.jsx)(s.a,{to:"/dashboard",state:{from:a}}):n}function $(e){var n=e.children,t=Object(l.b)(),r=t.accessToken,a=t.accountProfile;console.log("accountProfile",a),console.log("accessToken",r);var c=Object(s.f)();return void 0===r?null:r?n:Object(d.jsx)(s.a,{to:"/login",state:{from:c}})}var S=function(){return Object(d.jsx)(r.Suspense,{fallback:Object(d.jsx)(i.a,{}),children:Object(d.jsxs)(s.d,{children:[Object(d.jsx)(s.b,{path:"*",element:Object(d.jsx)(b,{})}),Object(d.jsx)(s.b,{path:"/",element:Object(d.jsx)(p,{})}),Object(d.jsx)(s.b,{path:"/login",element:Object(d.jsx)(D,{children:Object(d.jsx)(f,{})})}),Object(d.jsx)(s.b,{path:"/signup",element:Object(d.jsx)(D,{children:Object(d.jsx)(j,{})})}),Object(d.jsx)(s.b,{path:"/vendor-signup",element:Object(d.jsx)(D,{children:Object(d.jsx)(O,{})})}),Object(d.jsx)(s.b,{path:"/forgot-password",element:Object(d.jsx)(D,{children:Object(d.jsx)(h,{})})}),Object(d.jsx)(s.b,{path:"/reset-password/:token",element:Object(d.jsx)(D,{children:Object(d.jsx)(m,{})})}),Object(d.jsx)(s.b,{path:"/dashboard",element:Object(d.jsx)($,{children:Object(d.jsx)(x,{})})}),Object(d.jsx)(s.b,{path:"/settings/reset-password",element:Object(d.jsx)($,{children:Object(d.jsx)(v,{})})}),Object(d.jsx)(s.b,{path:"/users",element:Object(d.jsx)($,{children:Object(d.jsx)(w,{})})}),Object(d.jsx)(s.b,{path:"/org-vendors",element:Object(d.jsx)($,{children:Object(d.jsx)(g,{})})}),Object(d.jsx)(s.b,{path:"/org-items",element:Object(d.jsx)($,{children:Object(d.jsx)(y,{})})}),Object(d.jsx)(s.b,{path:"/rfq",element:Object(d.jsx)($,{children:Object(d.jsx)(k,{})})}),Object(d.jsx)(s.b,{path:"/vendor/rfq/view/:id",element:Object(d.jsx)($,{children:Object(d.jsx)(P,{})})}),Object(d.jsx)(s.b,{path:"/buyer/rfq/view/:id",element:Object(d.jsx)($,{children:Object(d.jsx)(T,{})})}),Object(d.jsx)(s.b,{path:"/profile",element:Object(d.jsx)($,{children:Object(d.jsx)(C,{})})}),Object(d.jsx)(s.b,{path:"/vendor-profile",element:Object(d.jsx)($,{children:Object(d.jsx)(_,{})})}),Object(d.jsx)(s.b,{path:"/comparison",element:Object(d.jsx)($,{children:Object(d.jsx)(q,{})})})]})})},L=t(154),E=t(155),A=t(19),M=t(29),R=t(145),I=t(232),z=t(440),N=t(438),V=t(437),U=t.n(V),F=t(112),G=t(28),J=new M.a((function(e,n){return e.setContext((function(e){var n=e.headers;return{headers:Object(A.a)({authorization:Object(G.c)()?Object(G.c)():""},n)}})),n(e)})),B=U()({uri:F.a,credentials:"same-origin"}),Q=new R.a({link:Object(I.a)([J.concat(B)]),cache:new z.a}),W=N.a,H=t(439),K=t(13),X=t(81),Y=t.n(X),Z=t(442),ee=t(433),ne=function(){var e,n=Object(r.useState)(["click","load","scroll"]),t=Object(K.a)(n,2),a=t[0],c=(t[1],Object(r.useState)(0)),o=Object(K.a)(c,2),u=(o[0],o[1]),s=Object(r.useState)(!1),i=Object(K.a)(s,2),b=i[0],p=i[1],f=Object(l.b)(),j=f.accessToken,O=f.logout,h=Object(r.useRef)(),m=Object(r.useRef)(),x=function(){console.log("timeString csca"),m.current=setTimeout((function(){var e=localStorage.getItem("lastTimeStamp");v(e)}),6e5)},v=function(e){clearTimeout(m.current),h.current=setInterval((function(){var n=Y.a.duration(Y()().diff(Y()(e))),t=n.minutes(),r=60-n.seconds();1===t&&(u(r),p(!0)),2===t&&(clearInterval(h.current),p(!1),localStorage.removeItem("lastTimeStamp"),O())}),1e3)},w=Object(r.useCallback)((function(){clearTimeout(m.current),clearInterval(h.current),console.log("lastTimeStamp",j),localStorage.getItem("bt.token")?(e=Y()(),localStorage.setItem("lastTimeStamp",e)):(clearInterval(h.current),localStorage.removeItem("lastTimeStamp")),x(),p(!1)}),[j]);return Object(r.useEffect)((function(){return a.forEach((function(e){window.addEventListener(e,w)})),x(),function(){clearTimeout(m.current)}}),[w,a,x]),b?Object(d.jsx)("div",{children:Object(d.jsxs)(Z.a,{className:"modal-dialog-centered",isOpen:b,children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("strong",{children:"Session Expire Warning"}),Object(d.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return w()},children:Object(d.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("p",{children:"your session will expire in."}),Object(d.jsx)("p",{children:"Do you want to extend the session?"})]}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)(ee.a,{color:"primary",type:"button",onClick:function(){return O()},children:"Logout"}),Object(d.jsx)(ee.a,{color:"secondary","data-dismiss":"modal",type:"button",onClick:function(){w()},children:"Extend Session"})]})]})}):null},te=function(){return Object(d.jsx)(u.a,{children:Object(d.jsx)(W,{client:Q,children:Object(d.jsx)(H.a,{children:Object(d.jsx)(L.a,{children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(E.a,{children:[Object(d.jsx)(S,{}),Object(d.jsx)(ne,{})]})})})})})})},re=function(e){e&&e instanceof Function&&t.e(41).then(t.bind(null,754)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),c(e),o(e)}))};t(422),t(423),t(424),t(425),t(426);o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(te,{})}),document.getElementById("root")),re()},46:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return a}));var r=function(e,n){return n&&n[e]&&"1"===n[e].responseCode},a=function(e){var n="";return e.networkError?n=e.networkError:e.graphQLErrors&&e.graphQLErrors.forEach((function(e){n=e.message})),n}},56:function(e,n,t){"use strict";t.d(n,"a",(function(){return E})),t.d(n,"b",(function(){return A}));var r,a,c,o,u,s=t(19),i=t(13),l=t(14),d=t(6),b=t.n(d),p=t(1),f=t.n(p),j=t(28),O=t(46),h=t(242),m=t(443),x=t(18),v=t(15),w=Object(v.a)(r||(r=Object(x.a)(["\n    query($input: LoginRequest) {\n      login(input: $input) {\n          responseCode\n          data\n      }\n    }\n"]))),g=Object(v.a)(a||(a=Object(x.a)(["\n    query($input: ForgotPasswordRequest) {\n      forgotPassword(input: $input) {\n          responseCode\n          data\n      }\n    }\n"]))),y=Object(v.a)(c||(c=Object(x.a)(["\n    query($input: ResetPasswordRequest) {\n      resetPassword(input: $input) {\n          responseCode\n          data\n      }\n    }\n"]))),k=Object(v.a)(o||(o=Object(x.a)(["\n    query($input: PasswordResetTokenValidRequest) {\n      passwordResetTokenValid(input: $input) {\n          responseCode\n          data\n      }\n    }\n"]))),P=Object(v.a)(u||(u=Object(x.a)(["\n    query($input: RefreshTokenRequest) {\n      refreshToken(input: $input) {\n          responseCode\n          data\n      }\n    }\n"]))),T=t(91),C=t(241),_=t.n(C),q=t(112),D=t(441),$=t(4),S={userType:"INIT",error:void 0,accessToken:void 0,userAccessType:"buyer",accountProfile:void 0,refetchAccountProfile:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signup:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vendorSignup:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),forgotPassword:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),resetPassword:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),isPasswordResetTokenValid:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),refreshToken:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},L=Object(p.createContext)(S),E=function(e){var n=e.children,t=Object(h.a)(),r=Object(m.a)(T.k),a=Object(i.a)(r,1)[0],c=Object(m.a)(T.o),o=Object(i.a)(c,1)[0],u=Object(p.useReducer)((function(e,n){switch(n.name){case"LOG_IN":return Object(s.a)(Object(s.a)({},e),{},{userType:"LOGGED_IN",error:void 0,accessToken:n.accessToken,userAccessType:n.userAccessType,accountProfile:n.accountProfile});case"LOG_IN_ERROR":return Object(s.a)(Object(s.a)({},e),{},{userType:"INIT",error:n.value});case"LOG_OUT":return Object(s.a)(Object(s.a)({},e),{},{userType:"NOT_LOGGED_IN",accessToken:"",error:void 0});case"UPDATE_ACCOUNT_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{accountProfile:n.accountProfile});default:return Object(s.a)({},e)}}),S),d=Object(i.a)(u,2),x=d[0],v=d[1];Object(p.useEffect)((function(){var e=function(){var e=Object(l.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.b)("bt.token");case 3:if(void 0===(n=e.sent)||null===n){e.next=10;break}return t=JSON.parse(n),e.next=8,N.refreshToken(t.accessToken);case 8:e.next=12;break;case 10:return e.next=12,E();case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),e.next=18,E();case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(){var e=Object(l.a)(b.a.mark((function e(n){var t,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.accessToken,r=_.a.verify(t,q.b),a="object"===typeof r?r.userAccessType:"",c=JSON.stringify({accessToken:t}),e.next=6,Object(j.d)("bt.token",c);case 6:return v({name:"LOG_IN",accessToken:t,userAccessType:a,accountProfile:{}}),e.next=9,A(t);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=Object(p.useCallback)(Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)("bt.token","");case 2:return e.next=4,Object(j.d)("bt.userAccessType","");case 4:return e.next=6,Object(j.d)("bt.userId","");case 6:v({name:"LOG_OUT"});case 7:case"end":return e.stop()}}),e)}))),[]),A=Object(p.useCallback)(function(){var e=Object(l.a)(b.a.mark((function e(n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query({query:T.a,variables:{input:{accessToken:n}}});case 2:if(r=e.sent,a=r.data,!Object(O.b)("getAccountProfile",a)){e.next=10;break}return e.next=7,Object(j.d)("bt.userId",a.getAccountProfile.data[0].id);case 7:return e.next=9,Object(j.d)("bt.userAccessType",a.getAccountProfile.data[0].userAccessType);case 9:v({name:"UPDATE_ACCOUNT_PROFILE",accountProfile:a.getAccountProfile.data[0]});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),M=Object(D.a)(["loginUser"]),R=Object(i.a)(M,3),I=(R[0],R[1]),z=R[2],N=f.a.useMemo((function(){return{refetchAccountProfile:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.accessToken){e.next=3;break}return e.next=3,A(x.accessToken);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(l.a)(b.a.mark((function e(n){var r,a,c,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,a=n.password,c=n.rememberMe,e.next=3,t.query({query:w,variables:{input:{username:r,password:a}},fetchPolicy:"no-cache"});case 3:if(o=e.sent,u=o.data,!Object(O.b)("login",u)){e.next=9;break}return c?(I("username",r,{path:"/"}),I("password",a,{path:"/"})):(z("username"),z("password")),e.next=9,C(u.login.data);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),forgotPassword:function(){var e=Object(l.a)(b.a.mark((function e(n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.email,e.next=3,t.query({query:g,variables:{input:{email:r}}});case 3:if(a=e.sent,c=a.data,!Object(O.b)("forgotPassword",c)){e.next=7;break}return e.abrupt("return",c.forgotPassword.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),resetPassword:function(){var e=Object(l.a)(b.a.mark((function e(n){var r,a,c,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,a=n.oldPassword,c=n.password,e.next=3,t.query({query:y,variables:{input:{token:r,password:c,oldPassword:a||""}}});case 3:if(o=e.sent,u=o.data,!Object(O.b)("resetPassword",u)){e.next=7;break}return e.abrupt("return",u.resetPassword.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),isPasswordResetTokenValid:function(){var e=Object(l.a)(b.a.mark((function e(n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,e.next=3,t.query({query:k,variables:{input:{token:r}}});case 3:if(a=e.sent,c=a.data,!Object(O.b)("passwordResetTokenValid",c)){e.next=7;break}return e.abrupt("return",c.passwordResetTokenValid.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),signup:function(){var e=Object(l.a)(b.a.mark((function e(n){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({variables:{input:n}});case 2:if(t=e.sent,r=t.data,!Object(O.b)("signup",r)){e.next=7;break}return e.next=7,N.login({username:n.email,password:n.password,rememberMe:!0});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),vendorSignup:function(){var e=Object(l.a)(b.a.mark((function e(n){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{input:n}});case 2:if(t=e.sent,r=t.data,!Object(O.b)("vendorSignup",r)){e.next=7;break}return e.next=7,N.login({username:n.email,password:n.password,rememberMe:!0});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),refreshToken:function(){var e=Object(l.a)(b.a.mark((function e(n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query({query:P,variables:{input:{accessToken:n}}});case 2:if(r=e.sent,a=r.data,!Object(O.b)("refreshToken",a)){e.next=9;break}return e.next=7,C(a.refreshToken.data);case 7:e.next=10;break;case 9:N.logout();case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),[x]),V=n;return"LOGGED_IN"!==x.userType||x.accountProfile||(V=null),Object($.jsx)(L.Provider,{value:Object(s.a)(Object(s.a)({},x),N),children:V})},A=function(){var e=Object(p.useContext)(L);if(void 0===e)throw new Error("useAuth must be used within a AuthContext");return e}},91:function(e,n,t){"use strict";t.d(n,"a",(function(){return w})),t.d(n,"j",(function(){return g})),t.d(n,"k",(function(){return y})),t.d(n,"o",(function(){return k})),t.d(n,"g",(function(){return P})),t.d(n,"f",(function(){return T})),t.d(n,"i",(function(){return C})),t.d(n,"h",(function(){return _})),t.d(n,"c",(function(){return q})),t.d(n,"b",(function(){return D})),t.d(n,"l",(function(){return $})),t.d(n,"m",(function(){return S})),t.d(n,"n",(function(){return L})),t.d(n,"e",(function(){return E})),t.d(n,"d",(function(){return A}));var r,a,c,o,u,s,i,l,d,b,p,f,j,O,h,m,x=t(18),v=t(15),w=Object(v.a)(r||(r=Object(x.a)(["\n  query ($input: AccountProfileRequest) {\n    getAccountProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),g=Object(v.a)(a||(a=Object(x.a)(["\n  query ($input: VendorSearchCond) {\n    getVendorProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),y=Object(v.a)(c||(c=Object(x.a)(["\n  mutation ($input: SignupRequest) {\n    signup(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),k=Object(v.a)(o||(o=Object(x.a)(["\n  mutation ($input: VendorSignupRequest) {\n    vendorSignup(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),P=(Object(v.a)(u||(u=Object(x.a)(["\nmutation ($input: UpdateAccountProfileRequest) {\n    updateAccountProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),Object(v.a)(s||(s=Object(x.a)(["\n  query ($input: DashboardOverviewCond) {\n    getDashboardOverview(input: $input) {\n      responseCode\n      data\n    }\n  }\n"])))),T=Object(v.a)(i||(i=Object(x.a)(["\n  query ($input: DashboardChartOverviewCond) {\n    getDashboardChartOverview(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),C=Object(v.a)(l||(l=Object(x.a)(["\n  query ($input: UsersCond) {\n    getUsers(input: $input) {\n      responseCode\n      data\n      dataCount\n    }\n  }\n"]))),_=Object(v.a)(d||(d=Object(x.a)(["\n  query ($input: OrgVendorsCond) {\n    getOrgVendors(input: $input) {\n      responseCode\n      data\n      dataCount\n    }\n  }\n"]))),q=Object(v.a)(b||(b=Object(x.a)(["\n  mutation ($input: UserFormRequest) {\n    createUser(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),D=Object(v.a)(p||(p=Object(x.a)(["\n  mutation ($input: OrgVendorFormRequest) {\n    createOrgVendor(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),$=Object(v.a)(f||(f=Object(x.a)(["\n  mutation ($input: UserFormRequest) {\n    updateUser(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),S=Object(v.a)(j||(j=Object(x.a)(["\n  mutation ($input: UserProfileFormRequest) {\n    updateProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),L=Object(v.a)(O||(O=Object(x.a)(["\n  mutation ($input: VendorProfileFormRequest) {\n    updateVendorProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),E=Object(v.a)(h||(h=Object(x.a)(["\n  mutation ($input: UserDeleteRequest) {\n    deleteUser(input: $input) {\n      responseCode\n      data\n    }\n  }\n"]))),A=Object(v.a)(m||(m=Object(x.a)(["\n  mutation ($input: OrgVendorDeleteRequest) {\n    deleteOrgVendor(input: $input) {\n      responseCode\n      data\n    }\n  }\n"])))}},[[427,9,10]]]);
//# sourceMappingURL=main.5b81a60b.chunk.js.map